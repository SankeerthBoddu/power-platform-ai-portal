{
    "swagger": "2.0",
    "info": {
        "title": "IT Asset Request Analyzer",
        "description": "Analyzes IT asset requests using AI to determine category and priority",
        "version": "1.0"
    },
    "host": "your-function-app.azurewebsites.net",
    "basePath": "/api",
    "schemes": [
        "https"
    ],
    "consumes": [
        "application/json"
    ],
    "produces": [
        "application/json"
    ],
    "paths": {
        "/analyze_request": {
            "post": {
                "summary": "Analyze IT Request",
                "description": "Analyzes an IT request text to determine category and priority",
                "operationId": "AnalyzeRequest",
                "parameters": [
                    {
                        "name": "body",
                        "in": "body",
                        "description": "Request body",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "properties": {
                                "requestText": {
                                    "type": "string",
                                    "description": "The text of the IT request to analyze"
                                }
                            },
                            "required": ["requestText"]
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successfully analyzed the request",
                        "schema": {
                            "$ref": "#/definitions/AnalyzeRequestOutput"
                        },
                        "examples": {
                            "application/json": {
                                "category": "Hardware",
                                "priority": 4
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request - invalid or missing requestText",
                        "schema": {
                            "$ref": "#/definitions/ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal server error - AI service failure",
                        "schema": {
                            "$ref": "#/definitions/ErrorResponse"
                        }
                    }
                },
                "security": [
                    {
                        "api_key": []
                    }
                ]
            }
        }
    },
    "securityDefinitions": {
        "api_key": {
            "type": "apiKey",
            "name": "x-functions-key",
            "in": "header"
        }
    },
    "definitions": {
        "AnalyzeRequestInput": {
            "type": "object",
            "required": ["requestText"],
            "properties": {
                "requestText": {
                    "type": "string",
                    "description": "The IT request description to analyze",
                    "example": "I need a new laptop for remote work with Teams and Office apps"
                }
            }
        },
        "AnalyzeRequestOutput": {
            "type": "object",
            "properties": {
                "category": {
                    "type": "string",
                    "enum": ["Hardware", "Software", "Access", "Network", "Other"],
                    "description": "Categorization of the IT request"
                },
                "priority": {
                    "type": "integer",
                    "format": "int32",
                    "minimum": 1,
                    "maximum": 5,
                    "description": "Urgency level (1=low, 5=critical)"
                }
            }
        },
        "ErrorResponse": {
            "type": "object",
            "properties": {
                "error": {
                    "type": "string",
                    "description": "Error message describing what went wrong"
                }
            }
        }
    }
}